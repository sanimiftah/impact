<!DOCTYPE html>
<html lang="en">
<head>
  <link href="output.css" rel="stylesheet">
  <link href="animations.css" rel="stylesheet">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ImpactLog â€“ Reflect & Grow</title>
</head>
<body class="font-sans bg-gray-50 text-gray-800 leading-relaxed">

  <section class="max-w-6xl mx-auto p-6">
    <header class="mb-8 text-center">
      <h2 class="text-3xl font-bold text-gray-700">ğŸ“– ImpactLog â€“ Reflect & Grow</h2>
      <p class="text-lg text-gray-700">Track your volunteer journey, reflect on experiences, and celebrate growth</p>
      <div class="flex justify-center space-x-4 mt-2">
        <a href="index.html" class="text-blue-500 hover:underline">â† Back to Home</a>
        <a href="dashboard_enhanced.html" class="text-purple-500 hover:underline">ğŸ“Š Back to Dashboard</a>
      </div>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      
      <!-- Left Column: Add Entry -->
      <div class="lg:col-span-1 space-y-6">
        
        <!-- Success Message -->
        <div id="successMessage" class="hidden bg-gray-100 border border-gray-400 text-gray-700 px-4 py-3 rounded">
          <strong>Entry Saved!</strong> Your reflection has been added to your impact log. ğŸ“
        </div>

        <!-- Log Entry Form -->
        <form id="logForm" class="bg-gray-50 p-6 rounded-lg shadow-md space-y-4">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">âœï¸ Add Log Entry</h3>
          
          <div>
            <label for="entryTitle" class="block font-medium text-gray-700">Title:</label>
            <input type="text" id="entryTitle" class="w-full border border-gray-300 rounded p-2" 
                   placeholder="e.g., Helped at Community Garden" required />
          </div>

          <div>
            <label for="entryType" class="block font-medium text-gray-700">Activity Type:</label>
            <select id="entryType" class="w-full border border-gray-300 rounded p-2" required>
              <option value="">Select type</option>
              <option value="volunteer">ğŸ™‹â€â™€ï¸ Volunteer Work</option>
              <option value="skill-share">ğŸ§  Skill Sharing</option>
              <option value="team-work">ğŸ¤ Team Collaboration</option>
              <option value="idea-submission">ğŸ’¡ Idea Submission</option>
              <option value="learning">ğŸ“š Learning Experience</option>
              <option value="leadership">ğŸ‘‘ Leadership Role</option>
              <option value="advocacy">ğŸ“¢ Advocacy Work</option>
            </select>
          </div>

          <div>
            <label for="activityDate" class="block font-medium text-gray-700">Activity Date:</label>
            <input type="date" id="activityDate" class="w-full border border-gray-300 rounded p-2" required />
          </div>

          <div>
            <label for="timeSpent" class="block font-medium text-gray-700">Time Spent:</label>
            <select id="timeSpent" class="w-full border border-gray-300 rounded p-2" required>
              <option value="">Select duration</option>
              <option value="1-2 hours">â±ï¸ 1-2 hours</option>
              <option value="half-day">ğŸ• Half day (3-4 hours)</option>
              <option value="full-day">ğŸŒ… Full day (6-8 hours)</option>
              <option value="weekend">ğŸ  Weekend</option>
              <option value="week">ğŸ“… Full week</option>
              <option value="ongoing">â™¾ï¸ Ongoing</option>
            </select>
          </div>

          <div>
            <label for="relatedProject" class="block font-medium text-gray-700">Related Project/Team:</label>
            <input type="text" id="relatedProject" class="w-full border border-gray-300 rounded p-2" 
                   placeholder="e.g., Urban Farming Initiative, Code for Good" />
          </div>

          <div>
            <label for="reflection" class="block font-medium text-gray-700">Reflection:</label>
            <textarea id="reflection" rows="5" class="w-full border border-gray-300 rounded p-2" 
                      placeholder="What did you do? What did you learn? How did it make you feel? What would you do differently?" required></textarea>
          </div>

          <div>
            <label for="impactLevel" class="block font-medium text-gray-700">Personal Impact Level:</label>
            <select id="impactLevel" class="w-full border border-gray-300 rounded p-2" required>
              <option value="">Rate your experience</option>
              <option value="transformative">ğŸŒŸ Transformative - Life changing</option>
              <option value="significant">â­ Significant - Major learning</option>
              <option value="meaningful">âœ¨ Meaningful - Good experience</option>
              <option value="moderate">ğŸ‘ Moderate - Okay experience</option>
              <option value="minimal">ğŸ‘Œ Minimal - Small contribution</option>
            </select>
          </div>

          <div>
            <label for="skillsGained" class="block font-medium text-gray-700">Skills Gained/Used (Optional):</label>
            <input type="text" id="skillsGained" class="w-full border border-gray-300 rounded p-2" 
                   placeholder="e.g., Leadership, Communication, Technical skills" />
          </div>

          <div>
            <label for="futureGoals" class="block font-medium text-gray-700">Future Goals (Optional):</label>
            <textarea id="futureGoals" rows="2" class="w-full border border-gray-300 rounded p-2" 
                      placeholder="What do you want to do next? How will you build on this experience?"></textarea>
          </div>

          <button type="submit" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded">
            ğŸ“ Save Entry
          </button>
        </form>

        <!-- Impact Summary -->
        <div class="bg-white p-4 rounded-lg shadow-md">
          <h3 class="text-lg font-semibold text-gray-700 mb-3">ğŸ“Š My Impact Summary</h3>
          <div class="space-y-2 text-sm">
            <div class="flex justify-between">
              <span>Total Entries:</span>
              <span id="totalEntries" class="font-semibold">0</span>
            </div>
            <div class="flex justify-between">
              <span>Hours Logged:</span>
              <span id="totalHours" class="font-semibold">0</span>
            </div>
            <div class="flex justify-between">
              <span>This Month:</span>
              <span id="thisMonth" class="font-semibold">0</span>
            </div>
            <div class="flex justify-between">
              <span>Streak:</span>
              <span id="currentStreak" class="font-semibold">0 days</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Columns: Log Entries -->
      <div class="lg:col-span-2 space-y-6">
        
        <!-- Filter and Search -->
        <div class="bg-gray-100 p-4 rounded-lg">
          <h3 class="text-lg font-semibold text-gray-700 mb-3">ğŸ” Filter & Search</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <select id="typeFilter" class="border border-gray-300 rounded p-2">
              <option value="">All Activity Types</option>
              <option value="volunteer">ğŸ™‹â€â™€ï¸ Volunteer Work</option>
              <option value="skill-share">ğŸ§  Skill Sharing</option>
              <option value="team-work">ğŸ¤ Team Work</option>
              <option value="idea-submission">ğŸ’¡ Ideas</option>
              <option value="learning">ğŸ“š Learning</option>
              <option value="leadership">ğŸ‘‘ Leadership</option>
              <option value="advocacy">ğŸ“¢ Advocacy</option>
            </select>
            <select id="impactFilter" class="border border-gray-300 rounded p-2">
              <option value="">All Impact Levels</option>
              <option value="transformative">ğŸŒŸ Transformative</option>
              <option value="significant">â­ Significant</option>
              <option value="meaningful">âœ¨ Meaningful</option>
              <option value="moderate">ğŸ‘ Moderate</option>
              <option value="minimal">ğŸ‘Œ Minimal</option>
            </select>
            <input type="text" id="searchFilter" placeholder="Search entries..." 
                   class="border border-gray-300 rounded p-2">
          </div>
        </div>

        <!-- Impact Timeline -->
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">ğŸ“… My Impact Timeline</h3>
          <div id="logEntries" class="space-y-4">
            <!-- Log entries will be displayed here -->
          </div>
        </div>

        <!-- Growth Insights -->
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-gray-700 mb-4">ğŸŒ± Growth Insights</h3>
          <div id="growthInsights" class="space-y-3">
            <!-- Growth insights will be displayed here -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Initialize DOM elements
    const logForm = document.getElementById('logForm');
    const logEntries = document.getElementById('logEntries');
    const growthInsights = document.getElementById('growthInsights');
    const successMessage = document.getElementById('successMessage');
    const typeFilter = document.getElementById('typeFilter');
    const impactFilter = document.getElementById('impactFilter');
    const searchFilter = document.getElementById('searchFilter');

    // Initialize data
    let impactLog = JSON.parse(localStorage.getItem('impactLog')) || [];

    // Activity type configuration
    const typeConfig = {
      'volunteer': { icon: 'ğŸ™‹â€â™€ï¸', label: 'Volunteer Work', color: 'green' },
      'skill-share': { icon: 'ğŸ§ ', label: 'Skill Sharing', color: 'yellow' },
      'team-work': { icon: 'ğŸ¤', label: 'Team Work', color: 'purple' },
      'idea-submission': { icon: 'ğŸ’¡', label: 'Idea Submission', color: 'blue' },
      'learning': { icon: 'ğŸ“š', label: 'Learning', color: 'indigo' },
      'leadership': { icon: 'ğŸ‘‘', label: 'Leadership', color: 'orange' },
      'advocacy': { icon: 'ğŸ“¢', label: 'Advocacy', color: 'red' }
    };

    const impactConfig = {
      'transformative': { icon: 'ğŸŒŸ', label: 'Transformative', score: 5, color: 'yellow' },
      'significant': { icon: 'â­', label: 'Significant', score: 4, color: 'blue' },
      'meaningful': { icon: 'âœ¨', label: 'Meaningful', score: 3, color: 'green' },
      'moderate': { icon: 'ğŸ‘', label: 'Moderate', score: 2, color: 'gray' },
      'minimal': { icon: 'ğŸ‘Œ', label: 'Minimal', score: 1, color: 'gray' }
    };

    // Initialize display
    displayLogEntries();
    updateSummaryStats();
    generateGrowthInsights();

    // Set default date to today
    document.getElementById('activityDate').value = new Date().toISOString().split('T')[0];

    // Handle log form submission
    logForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const newEntry = {
        id: Date.now(),
        title: document.getElementById('entryTitle').value,
        type: document.getElementById('entryType').value,
        activityDate: document.getElementById('activityDate').value,
        timeSpent: document.getElementById('timeSpent').value,
        relatedProject: document.getElementById('relatedProject').value,
        reflection: document.getElementById('reflection').value,
        impactLevel: document.getElementById('impactLevel').value,
        skillsGained: document.getElementById('skillsGained').value,
        futureGoals: document.getElementById('futureGoals').value,
        entryDate: new Date().toISOString()
      };

      impactLog.push(newEntry);
      localStorage.setItem('impactLog', JSON.stringify(impactLog));
      
      // Show success message
      successMessage.classList.remove('hidden');
      setTimeout(() => {
        successMessage.classList.add('hidden');
      }, 3000);
      
      logForm.reset();
      document.getElementById('activityDate').value = new Date().toISOString().split('T')[0];
      displayLogEntries();
      updateSummaryStats();
      generateGrowthInsights();
    });

    // Handle filter changes
    [typeFilter, impactFilter, searchFilter].forEach(filter => {
      filter.addEventListener('change', displayLogEntries);
      filter.addEventListener('input', displayLogEntries);
    });

    // Display log entries
    function displayLogEntries() {
      logEntries.innerHTML = '';
      
      if (impactLog.length === 0) {
        logEntries.innerHTML = `
          <div class="text-center py-8 text-gray-500">
            <div class="text-4xl mb-3">ğŸ“–</div>
            <p>Your impact journey starts here.</p>
            <p class="text-sm mt-2">Add your first log entry to begin tracking your growth!</p>
          </div>
        `;
        return;
      }

      // Filter entries
      let filteredEntries = impactLog.filter(entry => {
        const matchesType = !typeFilter.value || entry.type === typeFilter.value;
        const matchesImpact = !impactFilter.value || entry.impactLevel === impactFilter.value;
        const matchesSearch = !searchFilter.value || 
                             entry.title.toLowerCase().includes(searchFilter.value.toLowerCase()) ||
                             entry.reflection.toLowerCase().includes(searchFilter.value.toLowerCase()) ||
                             (entry.relatedProject && entry.relatedProject.toLowerCase().includes(searchFilter.value.toLowerCase()));
        return matchesType && matchesImpact && matchesSearch;
      });

      // Sort by activity date (newest first)
      filteredEntries.sort((a, b) => new Date(b.activityDate) - new Date(a.activityDate));

      if (filteredEntries.length === 0) {
        logEntries.innerHTML = '<p class="text-center text-gray-500 py-4">No entries match your filters.</p>';
        return;
      }

      filteredEntries.forEach(entry => {
        const typeInfo = typeConfig[entry.type];
        const impactInfo = impactConfig[entry.impactLevel];
        const activityDate = new Date(entry.activityDate);
        const entryDate = new Date(entry.entryDate);

        const entryCard = document.createElement('div');
        entryCard.className = `border-l-4 border-${typeInfo.color}-400 bg-${typeInfo.color}-50 p-4 rounded-lg shadow-sm`;
        
        entryCard.innerHTML = `
          <div class="flex justify-between items-start mb-3">
            <div class="flex items-center gap-2">
              <span class="text-2xl">${typeInfo.icon}</span>
              <div>
                <h4 class="font-bold text-gray-800">${entry.title}</h4>
                <div class="flex gap-3 text-sm text-gray-600 mt-1">
                  <span>ğŸ“… ${activityDate.toLocaleDateString()}</span>
                  <span>â±ï¸ ${entry.timeSpent}</span>
                  <span>${impactInfo.icon} ${impactInfo.label}</span>
                </div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-xs font-semibold text-${typeInfo.color}-600">${typeInfo.label}</div>
              <div class="text-xs text-gray-500">Logged ${getRelativeTime(entryDate)}</div>
            </div>
          </div>
          
          ${entry.relatedProject ? `
            <div class="bg-white p-2 rounded mb-3">
              <span class="text-xs font-semibold text-gray-600">Project:</span>
              <span class="text-xs text-gray-700">${entry.relatedProject}</span>
            </div>
          ` : ''}
          
          <div class="bg-white p-3 rounded mb-3">
            <h5 class="text-sm font-semibold text-gray-700 mb-2">ğŸ’­ Reflection:</h5>
            <p class="text-sm text-gray-700">${entry.reflection}</p>
          </div>
          
          ${entry.skillsGained ? `
            <div class="bg-white p-2 rounded mb-3">
              <span class="text-xs font-semibold text-gray-600">Skills Gained:</span>
              <span class="text-xs text-green-700">${entry.skillsGained}</span>
            </div>
          ` : ''}
          
          ${entry.futureGoals ? `
            <div class="bg-white p-2 rounded mb-3">
              <span class="text-xs font-semibold text-gray-600">Future Goals:</span>
              <span class="text-xs text-blue-700">${entry.futureGoals}</span>
            </div>
          ` : ''}
          
          <div class="flex gap-2 items-center">
            <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 py-1 px-3 rounded text-sm edit-btn"
                    data-entry-id="${entry.id}">
              âœï¸ Edit
            </button>
            <button class="bg-red-200 hover:bg-red-300 text-red-700 py-1 px-3 rounded text-sm delete-btn"
                    data-entry-id="${entry.id}">
              ğŸ—‘ï¸ Delete
            </button>
            <span class="text-xs text-gray-500 ml-auto">Impact Score: ${impactInfo.score}/5</span>
          </div>
        `;

        // Add edit functionality
        const editBtn = entryCard.querySelector('.edit-btn');
        editBtn.addEventListener('click', () => editEntry(entry.id));

        // Add delete functionality
        const deleteBtn = entryCard.querySelector('.delete-btn');
        deleteBtn.addEventListener('click', () => deleteEntry(entry.id));

        logEntries.appendChild(entryCard);
      });
    }

    // Update summary statistics
    function updateSummaryStats() {
      const totalEntries = impactLog.length;
      const thisMonth = new Date().getMonth();
      const thisYear = new Date().getFullYear();
      const entriesThisMonth = impactLog.filter(entry => {
        const entryDate = new Date(entry.activityDate);
        return entryDate.getMonth() === thisMonth && entryDate.getFullYear() === thisYear;
      }).length;

      // Calculate total hours (approximate)
      const totalHours = impactLog.reduce((total, entry) => {
        const hourMap = {
          '1-2 hours': 1.5,
          'half-day': 4,
          'full-day': 8,
          'weekend': 16,
          'week': 40,
          'ongoing': 10 // Average estimate
        };
        return total + (hourMap[entry.timeSpent] || 0);
      }, 0);

      // Calculate streak (simplified)
      const streak = calculateStreak();

      document.getElementById('totalEntries').textContent = totalEntries;
      document.getElementById('totalHours').textContent = Math.round(totalHours);
      document.getElementById('thisMonth').textContent = entriesThisMonth;
      document.getElementById('currentStreak').textContent = `${streak} days`;
    }

    // Generate growth insights
    function generateGrowthInsights() {
      growthInsights.innerHTML = '';
      
      if (impactLog.length === 0) {
        growthInsights.innerHTML = '<p class="text-gray-500 text-center">Start logging entries to see growth insights!</p>';
        return;
      }

      const insights = [];

      // Most common activity type
      const typeCounts = {};
      impactLog.forEach(entry => {
        typeCounts[entry.type] = (typeCounts[entry.type] || 0) + 1;
      });
      const topType = Object.entries(typeCounts).reduce((a, b) => typeCounts[a[0]] > typeCounts[b[0]] ? a : b);
      insights.push({
        icon: 'ğŸ“Š',
        title: 'Your Focus Area',
        content: `You're most active in ${typeConfig[topType[0]].label} (${topType[1]} entries)`
      });

      // Average impact level
      const impactScores = impactLog.map(entry => impactConfig[entry.impactLevel].score);
      const avgImpact = impactScores.reduce((a, b) => a + b, 0) / impactScores.length;
      insights.push({
        icon: 'â­',
        title: 'Impact Level',
        content: `Your average impact score is ${avgImpact.toFixed(1)}/5 - ${avgImpact >= 4 ? 'Excellent!' : avgImpact >= 3 ? 'Great work!' : 'Growing strong!'}`
      });

      // Skills evolution
      const skills = impactLog.flatMap(entry => 
        entry.skillsGained ? entry.skillsGained.split(',').map(s => s.trim()) : []
      );
      const uniqueSkills = [...new Set(skills)].length;
      if (uniqueSkills > 0) {
        insights.push({
          icon: 'ğŸ§ ',
          title: 'Skill Development',
          content: `You've developed ${uniqueSkills} different skills through your activities`
        });
      }

      // Recent activity
      const recentEntries = impactLog.filter(entry => {
        const entryDate = new Date(entry.activityDate);
        const monthAgo = new Date();
        monthAgo.setMonth(monthAgo.getMonth() - 1);
        return entryDate >= monthAgo;
      }).length;
      
      if (recentEntries > 0) {
        insights.push({
          icon: 'ğŸ”¥',
          title: 'Recent Activity',
          content: `You've logged ${recentEntries} activities in the past month - Keep it up!`
        });
      }

      insights.forEach(insight => {
        const insightDiv = document.createElement('div');
        insightDiv.className = 'bg-gray-50 p-3 rounded border-l-4 border-gray-400';
        insightDiv.innerHTML = `
          <div class="flex items-start gap-2">
            <span class="text-lg">${insight.icon}</span>
            <div>
              <h5 class="font-semibold text-gray-800">${insight.title}</h5>
              <p class="text-sm text-gray-600">${insight.content}</p>
            </div>
          </div>
        `;
        growthInsights.appendChild(insightDiv);
      });
    }

    // Helper functions
    function calculateStreak() {
      if (impactLog.length === 0) return 0;
      
      // Simple streak calculation - days with activities
      const dates = impactLog.map(entry => new Date(entry.activityDate).toDateString());
      const uniqueDates = [...new Set(dates)].sort((a, b) => new Date(b) - new Date(a));
      
      let streak = 0;
      const today = new Date().toDateString();
      let currentDate = new Date();
      
      for (let i = 0; i < 30; i++) { // Check last 30 days
        const dateStr = currentDate.toDateString();
        if (uniqueDates.includes(dateStr)) {
          streak++;
        } else if (streak > 0) {
          break; // Streak broken
        }
        currentDate.setDate(currentDate.getDate() - 1);
      }
      
      return streak;
    }

    function getRelativeTime(date) {
      const now = new Date();
      const diffMs = now - date;
      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
      
      if (diffDays === 0) return 'today';
      if (diffDays === 1) return 'yesterday';
      if (diffDays < 7) return `${diffDays} days ago`;
      if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
      return `${Math.floor(diffDays / 30)} months ago`;
    }

    function editEntry(entryId) {
      // Simple edit - for now just allow changing the reflection
      const entry = impactLog.find(e => e.id === entryId);
      if (!entry) return;
      
      const newReflection = prompt('Edit your reflection:', entry.reflection);
      if (newReflection && newReflection !== entry.reflection) {
        entry.reflection = newReflection;
        localStorage.setItem('impactLog', JSON.stringify(impactLog));
        displayLogEntries();
      }
    }

    function deleteEntry(entryId) {
      if (confirm('Are you sure you want to delete this entry? This action cannot be undone.')) {
        impactLog = impactLog.filter(entry => entry.id !== entryId);
        localStorage.setItem('impactLog', JSON.stringify(impactLog));
        displayLogEntries();
        updateSummaryStats();
        generateGrowthInsights();
      }
    }

    // Enhanced visual features for ImpactLog
    document.addEventListener('DOMContentLoaded', function() {
      // Add UI components
      if (typeof showLoading !== 'function') {
        window.showLoading = function(message) {
          const loading = document.createElement('div');
          loading.id = 'loadingOverlay';
          loading.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
          loading.innerHTML = `
            <div class="bg-white p-6 rounded-lg shadow-xl text-center">
              <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-gray-500 mx-auto mb-4"></div>
              <p class="text-gray-700">${message}</p>
            </div>
          `;
          document.body.appendChild(loading);
        };

        window.hideLoading = function() {
          const loading = document.getElementById('loadingOverlay');
          if (loading) loading.remove();
        };

        window.showToast = function(message, type = 'success') {
          const toast = document.createElement('div');
          toast.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300 ${
            type === 'success' ? 'bg-gray-600 text-white' : 
            type === 'warning' ? 'bg-orange-500 text-white' : 
            'bg-blue-500 text-white'
          }`;
          toast.textContent = message;
          document.body.appendChild(toast);
          
          setTimeout(() => toast.classList.remove('translate-x-full'), 100);
          setTimeout(() => {
            toast.classList.add('translate-x-full');
            setTimeout(() => toast.remove(), 300);
          }, 3000);
        };
      }

      // Enhanced form animations
      const formInputs = document.querySelectorAll('#logForm input, #logForm textarea, #logForm select');
      formInputs.forEach(input => {
        input.addEventListener('focus', function() {
          this.parentElement.classList.add('ring-2', 'ring-gray-300');
          this.classList.add('transform', 'scale-105');
        });
        input.addEventListener('blur', function() {
          this.parentElement.classList.remove('ring-2', 'ring-gray-300');
          this.classList.remove('transform', 'scale-105');
        });
      });

      // Enhanced form submission
      const logForm = document.getElementById('logForm');
      const originalSubmit = logForm.onsubmit;
      logForm.onsubmit = function(e) {
        e.preventDefault();
        showLoading('Capturing your reflection... ğŸ“–');
        
        setTimeout(() => {
          hideLoading();
          if (originalSubmit) originalSubmit.call(this, e);
          showToast('ğŸ“– Reflection saved! Your journey is being documented for growth.', 'success');
        }, 1000);
      };

      // Enhanced log entries
      function enhanceLogEntries() {
        const logEntries = document.querySelectorAll('#entriesList .bg-white');
        logEntries.forEach((entry, index) => {
          entry.classList.add('card-hover', 'transition-all', 'duration-300');
          
          // Add mood-based visual indicators
          const moodEl = entry.querySelector('strong');
          if (moodEl && moodEl.textContent.includes('Mood:')) {
            const moodText = moodEl.nextSibling?.textContent?.trim().toLowerCase();
            if (moodText.includes('excellent') || moodText.includes('great')) {
              entry.classList.add('border-l-4', 'border-green-500');
            } else if (moodText.includes('good')) {
              entry.classList.add('border-l-4', 'border-blue-500');
            } else if (moodText.includes('challenging') || moodText.includes('difficult')) {
              entry.classList.add('border-l-4', 'border-yellow-500');
            } else {
              entry.classList.add('border-l-4', 'border-gray-400');
            }
          }

          // Add growth animation to entries
          entry.style.opacity = '0';
          entry.style.transform = 'translateY(20px)';
          setTimeout(() => {
            entry.style.transition = 'all 0.5s ease';
            entry.style.opacity = '1';
            entry.style.transform = 'translateY(0)';
          }, index * 100);
        });
      }

      // Enhanced edit functionality
      window.originalEditEntry = window.editEntry;
      window.editEntry = function(entryId) {
        showLoading('Loading entry for editing...');
        setTimeout(() => {
          hideLoading();
          originalEditEntry(entryId);
          showToast('ğŸ“ Entry loaded for editing. Make your changes!', 'info');
        }, 500);
      };

      // Enhanced delete functionality
      window.originalDeleteEntry = window.deleteEntry;
      window.deleteEntry = function(entryId) {
        const confirmed = confirm('âš ï¸ Are you sure you want to delete this reflection? This action cannot be undone.');
        if (confirmed) {
          showLoading('Removing entry...');
          setTimeout(() => {
            hideLoading();
            originalDeleteEntry(entryId);
            showToast('ğŸ—‘ï¸ Entry deleted. Your other reflections remain safe.', 'warning');
          }, 500);
        }
      };

      // Auto-refresh with animations
      const originalDisplayLogEntries = window.displayLogEntries;
      window.displayLogEntries = function() {
        originalDisplayLogEntries();
        setTimeout(enhanceLogEntries, 100);
      };

      // Initial enhancements
      setTimeout(enhanceLogEntries, 500);
    });
  </script>
  <script src="ui-components.js"></script>
</body>
</html>
