<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saved Seeds – Your Growing Ideas</title>
</head>
<body class="font-sans bg-gray-50 text-gray-800 leading-relaxed">

  <section class="max-w-4xl mx-auto p-6">
    <header class="mb-6 text-center">
      <h2 class="text-2xl font-bold text-purple-700">🌼 Saved Seeds</h2>
      <p class="text-lg text-gray-700">Ideas you've nurtured. Ready to revisit and grow.</p>
    </header>

    <section id="savedList" class="space-y-6">
      <!-- Saved ideas will be injected here -->
    </section>
  </section>

  <script>
    const savedList = document.getElementById('savedList');
    const savedIdeas = JSON.parse(localStorage.getItem('savedIdeas')) || [];

    const toneColor = {
      hopeful: 'bg-blue-100 text-blue-700',
      urgent: 'bg-red-100 text-red-700',
      curious: 'bg-yellow-100 text-yellow-700'
    };

    savedIdeas.forEach(idea => {
      const card = document.createElement('div');
      card.className = 'bg-white rounded-lg shadow-md p-4 transition transform hover:scale-[1.02] hover:shadow-lg';

      const tagChips = idea.tags
        ? idea.tags.split(',').map(tag => `<span class="bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full">${tag.trim()}</span>`).join(' ')
        : '—';

      card.innerHTML = `
        <div class="flex items-center gap-2 mb-2">
          <span class="text-xs font-semibold px-2 py-1 rounded-full ${toneColor[idea.tone]}">
            ${idea.tone.charAt(0).toUpperCase() + idea.tone.slice(1)}
          </span>
        </div>

        <h4 class="font-bold text-purple-700 text-lg">${idea.title}</h4>
        <p class="text-sm text-gray-600 mt-1">${idea.description}</p>

        <div class="mt-2 flex flex-wrap gap-2">
          ${tagChips}
        </div>

        <p class="text-xs text-gray-500 mt-2">📍 ${idea.location || '—'}</p>

        <div class="mt-3 flex gap-2">
          <button class="bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded text-sm">Support</button>
          <button class="bg-red-100 hover:bg-red-200 text-red-700 py-1 px-3 rounded text-sm remove-btn">Remove</button>
        </div>
      `;

      // Remove from saved functionality
      const removeBtn = card.querySelector('.remove-btn');
      removeBtn.addEventListener('click', () => {
        const updated = savedIdeas.filter(saved =>
          !(saved.title === idea.title && saved.description === idea.description)
        );
        localStorage.setItem('savedIdeas', JSON.stringify(updated));
        location.reload(); // Refresh to reflect changes
      });

      savedList.appendChild(card);
    });
  </script>
</body>
</html>
